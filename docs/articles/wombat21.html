<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>wombat21: Multiplayer Blackjack in R • wombat21</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="wombat21: Multiplayer Blackjack in R">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">wombat21</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/wombat21.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/AD_wombat21.html">Advanced Usage</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MonashARP/game-package-wombats" aria-label="GitHub project repository"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>wombat21: Multiplayer Blackjack in R</h1>
                        <h4 data-toc-skip class="author">Sun Yan Joanna
Ma, Wei Zhu Chen, Aneesh Agarwal</h4>
            
      

      <div class="d-none name"><code>wombat21.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-is-wombat21">🃏 What is <code>wombat21</code>?<a class="anchor" aria-label="anchor" href="#what-is-wombat21"></a>
</h2>
<p><strong><code>wombat21</code></strong> is a modern, fully-featured
Blackjack game engine for R. It lets you play with friends or AI,
simulate thousands of games, and analyze results—all with advanced
Blackjack rules and persistent player records.</p>
<p>Whether you’re a fan of card games or want to explore R programming
with real-world logic, <strong><code>wombat21</code></strong> offers a
fun, hands-on way to learn, play, and experiment.</p>
<p>Install dependencies (if needed):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rlang"</span>, <span class="st">"vctrs"</span>, <span class="st">"plotly"</span>, <span class="st">"dplyr"</span>, <span class="st">"ggplot2"</span>, <span class="st">"Rcpp"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Tip: <code><a href="../reference/plot_bankroll_history.html">plot_bankroll_history()</a></code> uses <code>plotly</code>
for interactive charts. If you want the HTML website docs
(<code>pkgdown</code>), install <code>pkgdown</code> as well.</p>
</div>
<div class="section level2">
<h2 id="features">🎮 Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li><p><strong>Multi-player support:</strong> Up to 6 human or AI
players per game</p></li>
<li><p><strong>Full rules:</strong> Split, double down, insurance,
five-card Charlie, bust detection</p></li>
<li><p><strong>Persistent progress:</strong> Automatic saving of player
coin balances and game history</p></li>
<li><p><strong>Validated betting system:</strong> Safe and flexible coin
betting with input checks</p></li>
<li><p><strong>Interactive visualization:</strong> Track and plot
bankroll history and session trends</p></li>
<li><p><strong>Leaderboard &amp; rankings:</strong> Real-time rankings
and post-game stats</p></li>
<li>
<p><strong>Flexible strategy simulation:</strong></p>
<ul>
<li><p>Simulate thousands of games with custom betting, splitting, and
insurance strategies</p></li>
<li><p>User-defined strategy functions for advanced scenario
analysis</p></li>
<li><p>Batch analysis of win rates, insurance efficacy, split success,
and more</p></li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="interactive-gameplay">🎲 Interactive Gameplay<a class="anchor" aria-label="anchor" href="#interactive-gameplay"></a>
</h2>
<div class="section level3">
<h3 id="start-playing">🚀 Start Playing<a class="anchor" aria-label="anchor" href="#start-playing"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/play.html">play</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>To begin a game, simply run:</p>
<p>You’ll be prompted to:</p>
<ul>
<li><p>Choose human or computer player</p></li>
<li><p>Enter player names</p></li>
<li><p>Place your bet</p></li>
<li><p>Make moves (hit, stand, split, etc.)</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="betting-and-coins">💸 Betting and Coins<a class="anchor" aria-label="anchor" href="#betting-and-coins"></a>
</h3>
<p>Each player starts with a coin balance. You bet each round. Outcomes
impact your balance:</p>
<ul>
<li><p>Blackjack: <strong>1.5× payout</strong></p></li>
<li><p>Win: <strong>1× payout</strong></p></li>
<li><p>Push: <strong>bet returned</strong></p></li>
<li><p>Loss: <strong>bet lost</strong></p></li>
<li><p>5-card Charlie: <strong>auto win</strong></p></li>
<li><p>Your coin balance is saved between sessions under your player
name.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="computer-players">🤖 Computer Players<a class="anchor" aria-label="anchor" href="#computer-players"></a>
</h3>
<p>AI players follow simple strategy:</p>
<ul>
<li><p>Bet 10 coins or remaining balance (whichever is less)</p></li>
<li><p>Hit below 16, stand at 17+</p></li>
<li><p>They participate fully in the round, including betting and
insurance logic.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="player-rankings">🏆 Player Rankings<a class="anchor" aria-label="anchor" href="#player-rankings"></a>
</h3>
<p>At the end of each round, an updated leader-board is displayed,
showing every player’s current coin total. All rankings are refreshed
automatically, so you can see how you stack up against friends or AI
opponents without any manual steps.</p>
</div>
<div class="section level3">
<h3 id="bankroll-history">📝 Bankroll History<a class="anchor" aria-label="anchor" href="#bankroll-history"></a>
</h3>
<p>During game-play, your coin balance is automatically tracked and
visualized after each round. There’s no need to run any extra code—just
play the game and watch your bankroll trends update in real time.</p>
</div>
<div class="section level3">
<h3 id="play-again-or-exit">🔁 Play Again or Exit<a class="anchor" aria-label="anchor" href="#play-again-or-exit"></a>
</h3>
<p>At the end of each game, you’ll see:</p>
<blockquote>
<p>Type <code>again</code> to play another game, or <code>exit</code> to
quit:</p>
</blockquote>
<p>Simply type your choice at the prompt to continue playing or leave
the game.</p>
</div>
</div>
<div class="section level2">
<h2 id="custom-strategy-simulation">🧠 Custom Strategy Simulation<a class="anchor" aria-label="anchor" href="#custom-strategy-simulation"></a>
</h2>
<p>Simulate thousands of Blackjack games to test your strategies
automatically. You can control whether to split, buy insurance, or
change your hit/stand threshold—just by passing simple options or your
own functions.</p>
<div class="section level3">
<h3 id="basic-example">🚦 Basic Example<a class="anchor" aria-label="anchor" href="#basic-example"></a>
</h3>
<p>Run a quick simulation with the default strategy (hit below 17,
always buy insurance and always split pairs):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_blackjack.html">simulate_blackjack</a></span><span class="op">(</span>num_rounds <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sim</span><span class="op">$</span><span class="va">win_rate</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="customize-your-strategy">⚙️ Customize Your Strategy<a class="anchor" aria-label="anchor" href="#customize-your-strategy"></a>
</h3>
<p>You can easily change how the AI plays:</p>
<ul>
<li><p>Adjust the hit/stand rule:Hit if below your chosen score,
otherwise stand.</p></li>
<li><p>Choose to always/never split or buy insurance:Set split or
buy_insurance to TRUE or FALSE.</p></li>
<li><p>Write your own decision logic:Pass a function to control split or
insurance behavior.</p></li>
</ul>
<p>Examples:</p>
<ul>
<li>Never split, never buy insurance, hit below 18:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_blackjack.html">simulate_blackjack</a></span><span class="op">(</span></span>
<span>  num_rounds <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  split <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buy_insurance <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Custom logic (split only A or 8, buy insurance only with
blackjack):</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Split pairs of A or 8 only; buy insurance only when player's hand is blackjack.</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_blackjack.html">simulate_blackjack</a></span><span class="op">(</span></span>
<span>  num_rounds <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  split <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">hand</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">ranks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/card_rank.html">card_rank</a></span><span class="op">(</span><span class="va">hand</span><span class="op">$</span><span class="va">cards</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ranks</span><span class="op">)</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">&amp;&amp;</span> <span class="va">ranks</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">==</span> <span class="va">ranks</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&amp;&amp;</span> <span class="va">ranks</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"8"</span>, <span class="st">"A"</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  buy_insurance <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">player</span>, <span class="va">dealer_hand</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/is_blackjack.html">is_blackjack</a></span><span class="op">(</span><span class="va">player</span><span class="op">$</span><span class="va">hand</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="see-your-results">📋 See Your Results<a class="anchor" aria-label="anchor" href="#see-your-results"></a>
</h3>
<p>Check the win rate, loss rate, and other stats in the returned
list:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim</span><span class="op">$</span><span class="va">win_rate</span></span>
<span><span class="va">sim</span><span class="op">$</span><span class="va">split_rate</span></span>
<span><span class="va">sim</span><span class="op">$</span><span class="va">final_coins</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visualize">📈 Visualize<a class="anchor" aria-label="anchor" href="#visualize"></a>
</h2>
<div class="section level3">
<h3 id="export-results">📦 Export Results<a class="anchor" aria-label="anchor" href="#export-results"></a>
</h3>
<ul>
<li><strong>Strategy Simulation Results</strong></li>
</ul>
<p>After running a simulation, you can export your results for further
analysis:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_blackjack.html">simulate_blackjack</a></span><span class="op">(</span>num_rounds <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/save_players.html">save_players</a></span><span class="op">(</span></span>
<span>  players <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>You <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>coins <span class="op">=</span> <span class="va">sim</span><span class="op">$</span><span class="va">final_coins</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  bankroll_history <span class="op">=</span> <span class="va">sim</span><span class="op">$</span><span class="va">bankroll_history</span></span>
<span><span class="op">)</span></span></code></pre></div>
<ul>
<li><strong>Interactive Game Results</strong></li>
</ul>
<p>After finishing an interactive game (using <code><a href="../reference/play.html">play()</a></code>), you
can export your results for further analysis:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/save_players.html">save_players</a></span><span class="op">(</span><span class="va">players</span>, <span class="va">bankroll_history</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plot-bankroll-history">💹 Plot Bankroll History<a class="anchor" aria-label="anchor" href="#plot-bankroll-history"></a>
</h3>
<p>Visualize how each player’s coin balance changes over time.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"../data/my_simulation_results.rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_bankroll_history.html">plot_bankroll_history</a></span><span class="op">(</span><span class="va">sim</span><span class="op">$</span><span class="va">bankroll_history</span><span class="op">)</span></span></code></pre></div>
<p><em>Creates an interactive line chart showing bankroll trends by
round.</em></p>
</div>
<div class="section level3">
<h3 id="plot-player-rankings">📊 Plot Player Rankings<a class="anchor" aria-label="anchor" href="#plot-player-rankings"></a>
</h3>
<p>Compare player coin totals and see who’s on top.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"../data/players_data.rda"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_player_ranking.html">plot_player_ranking</a></span><span class="op">(</span>players <span class="op">=</span> <span class="va">players_data</span><span class="op">$</span><span class="va">players</span><span class="op">)</span></span></code></pre></div>
<p><em>Displays a bar chart ranking all players by coins.</em></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/joanna1016ma" class="external-link">Sun Yan Joanna Ma</a>, <a href="https://github.com/WZ-Ch01" class="external-link">Wei Zhu Chen</a>, <a href="https://github.com/AneeshAgarwala" class="external-link">Aneesh Agarwal</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
